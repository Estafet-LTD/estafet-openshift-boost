---
- include_role: 
    name : init
  when: openshift_connected is undefined or not openshift_connected

- include_role: 
    name: jaeger-setup
  vars:
    project: "{{ cloud_project }}"   

- name: Create the microservices
  include_role:
    name: create-app
  vars:
    microservice: "{{ item }}" 
    db_type: local
    reset_db: false
    imagestream_namespace: openshift
    docker_registry: docker-registry.default.svc:5000
    maven_mirror_url: http://nexus.nexus.svc:8081/nexus/content/groups/public 
    test: false    
    project: "{{ cloud_project }}"
  with_items: "{{ microservices_boost_projects }}"    
  tags:
    - openshift
